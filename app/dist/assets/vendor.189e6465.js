function Br(t){if(t.__esModule)return t;var e=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(t).forEach(function(r){var n=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(e,r,n.get?n:{enumerable:!0,get:function(){return t[r]}})}),e}var We={exports:{}},kt={exports:{}};(function(t){t.exports=e;function e(n){if(n)return r(n)}function r(n){for(var i in e.prototype)n[i]=e.prototype[i];return n}e.prototype.on=e.prototype.addEventListener=function(n,i){return this._callbacks=this._callbacks||{},(this._callbacks["$"+n]=this._callbacks["$"+n]||[]).push(i),this},e.prototype.once=function(n,i){function o(){this.off(n,o),i.apply(this,arguments)}return o.fn=i,this.on(n,o),this},e.prototype.off=e.prototype.removeListener=e.prototype.removeAllListeners=e.prototype.removeEventListener=function(n,i){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var o=this._callbacks["$"+n];if(!o)return this;if(arguments.length==1)return delete this._callbacks["$"+n],this;for(var s,a=0;a<o.length;a++)if(s=o[a],s===i||s.fn===i){o.splice(a,1);break}return o.length===0&&delete this._callbacks["$"+n],this},e.prototype.emit=function(n){this._callbacks=this._callbacks||{};for(var i=new Array(arguments.length-1),o=this._callbacks["$"+n],s=1;s<arguments.length;s++)i[s-1]=arguments[s];if(o){o=o.slice(0);for(var s=0,a=o.length;s<a;++s)o[s].apply(this,i)}return this},e.prototype.listeners=function(n){return this._callbacks=this._callbacks||{},this._callbacks["$"+n]||[]},e.prototype.hasListeners=function(n){return!!this.listeners(n).length}})(kt);var Ir=ye;ye.default=ye;ye.stable=Dt;ye.stableStringify=Dt;var Oe="[...]",Bt="[Circular]",Q=[],Y=[];function It(){return{depthLimit:Number.MAX_SAFE_INTEGER,edgesLimit:Number.MAX_SAFE_INTEGER}}function ye(t,e,r,n){typeof n=="undefined"&&(n=It()),ze(t,"",0,[],void 0,0,n);var i;try{Y.length===0?i=JSON.stringify(t,e,r):i=JSON.stringify(t,Lt(e),r)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;Q.length!==0;){var o=Q.pop();o.length===4?Object.defineProperty(o[0],o[1],o[3]):o[0][o[1]]=o[2]}}return i}function ne(t,e,r,n){var i=Object.getOwnPropertyDescriptor(n,r);i.get!==void 0?i.configurable?(Object.defineProperty(n,r,{value:t}),Q.push([n,r,e,i])):Y.push([e,r,t]):(n[r]=t,Q.push([n,r,e]))}function ze(t,e,r,n,i,o,s){o+=1;var a;if(typeof t=="object"&&t!==null){for(a=0;a<n.length;a++)if(n[a]===t){ne(Bt,t,e,i);return}if(typeof s.depthLimit!="undefined"&&o>s.depthLimit){ne(Oe,t,e,i);return}if(typeof s.edgesLimit!="undefined"&&r+1>s.edgesLimit){ne(Oe,t,e,i);return}if(n.push(t),Array.isArray(t))for(a=0;a<t.length;a++)ze(t[a],a,a,n,t,o,s);else{var u=Object.keys(t);for(a=0;a<u.length;a++){var p=u[a];ze(t[p],p,a,n,t,o,s)}}n.pop()}}function Dr(t,e){return t<e?-1:t>e?1:0}function Dt(t,e,r,n){typeof n=="undefined"&&(n=It());var i=Ve(t,"",0,[],void 0,0,n)||t,o;try{Y.length===0?o=JSON.stringify(i,e,r):o=JSON.stringify(i,Lt(e),r)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;Q.length!==0;){var s=Q.pop();s.length===4?Object.defineProperty(s[0],s[1],s[3]):s[0][s[1]]=s[2]}}return o}function Ve(t,e,r,n,i,o,s){o+=1;var a;if(typeof t=="object"&&t!==null){for(a=0;a<n.length;a++)if(n[a]===t){ne(Bt,t,e,i);return}try{if(typeof t.toJSON=="function")return}catch{return}if(typeof s.depthLimit!="undefined"&&o>s.depthLimit){ne(Oe,t,e,i);return}if(typeof s.edgesLimit!="undefined"&&r+1>s.edgesLimit){ne(Oe,t,e,i);return}if(n.push(t),Array.isArray(t))for(a=0;a<t.length;a++)Ve(t[a],a,a,n,t,o,s);else{var u={},p=Object.keys(t).sort(Dr);for(a=0;a<p.length;a++){var d=p[a];Ve(t[d],d,a,n,t,o,s),u[d]=t[d]}if(typeof i!="undefined")Q.push([i,e,t]),i[e]=u;else return u}n.pop()}}function Lt(t){return t=typeof t!="undefined"?t:function(e,r){return r},function(e,r){if(Y.length>0)for(var n=0;n<Y.length;n++){var i=Y[n];if(i[1]===e&&i[0]===r){r=i[2],Y.splice(n,1);break}}return t.call(this,e,r)}}var Lr=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var i=42;e[r]=i;for(r in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var o=Object.getOwnPropertySymbols(e);if(o.length!==1||o[0]!==r||!Object.prototype.propertyIsEnumerable.call(e,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var s=Object.getOwnPropertyDescriptor(e,r);if(s.value!==i||s.enumerable!==!0)return!1}return!0},Ft=typeof Symbol!="undefined"&&Symbol,Fr=Lr,$r=function(){return typeof Ft!="function"||typeof Symbol!="function"||typeof Ft("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:Fr()},qr="Function.prototype.bind called on incompatible ",Ge=Array.prototype.slice,Mr=Object.prototype.toString,Ur="[object Function]",Hr=function(e){var r=this;if(typeof r!="function"||Mr.call(r)!==Ur)throw new TypeError(qr+r);for(var n=Ge.call(arguments,1),i,o=function(){if(this instanceof i){var d=r.apply(this,n.concat(Ge.call(arguments)));return Object(d)===d?d:this}else return r.apply(e,n.concat(Ge.call(arguments)))},s=Math.max(0,r.length-n.length),a=[],u=0;u<s;u++)a.push("$"+u);if(i=Function("binder","return function ("+a.join(",")+"){ return binder.apply(this,arguments); }")(o),r.prototype){var p=function(){};p.prototype=r.prototype,i.prototype=new p,p.prototype=null}return i},Wr=Hr,je=Function.prototype.bind||Wr,zr=je,Vr=zr.call(Function.call,Object.prototype.hasOwnProperty),b,de=SyntaxError,$t=Function,ie=TypeError,Je=function(t){try{return $t('"use strict"; return ('+t+").constructor;")()}catch{}},Z=Object.getOwnPropertyDescriptor;if(Z)try{Z({},"")}catch{Z=null}var Ke=function(){throw new ie},Gr=Z?function(){try{return arguments.callee,Ke}catch{try{return Z(arguments,"callee").get}catch{return Ke}}}():Ke,oe=$r(),V=Object.getPrototypeOf||function(t){return t.__proto__},se={},jr=typeof Uint8Array=="undefined"?b:V(Uint8Array),ae={"%AggregateError%":typeof AggregateError=="undefined"?b:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer=="undefined"?b:ArrayBuffer,"%ArrayIteratorPrototype%":oe?V([][Symbol.iterator]()):b,"%AsyncFromSyncIteratorPrototype%":b,"%AsyncFunction%":se,"%AsyncGenerator%":se,"%AsyncGeneratorFunction%":se,"%AsyncIteratorPrototype%":se,"%Atomics%":typeof Atomics=="undefined"?b:Atomics,"%BigInt%":typeof BigInt=="undefined"?b:BigInt,"%Boolean%":Boolean,"%DataView%":typeof DataView=="undefined"?b:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array=="undefined"?b:Float32Array,"%Float64Array%":typeof Float64Array=="undefined"?b:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry=="undefined"?b:FinalizationRegistry,"%Function%":$t,"%GeneratorFunction%":se,"%Int8Array%":typeof Int8Array=="undefined"?b:Int8Array,"%Int16Array%":typeof Int16Array=="undefined"?b:Int16Array,"%Int32Array%":typeof Int32Array=="undefined"?b:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":oe?V(V([][Symbol.iterator]())):b,"%JSON%":typeof JSON=="object"?JSON:b,"%Map%":typeof Map=="undefined"?b:Map,"%MapIteratorPrototype%":typeof Map=="undefined"||!oe?b:V(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise=="undefined"?b:Promise,"%Proxy%":typeof Proxy=="undefined"?b:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect=="undefined"?b:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set=="undefined"?b:Set,"%SetIteratorPrototype%":typeof Set=="undefined"||!oe?b:V(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer=="undefined"?b:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":oe?V(""[Symbol.iterator]()):b,"%Symbol%":oe?Symbol:b,"%SyntaxError%":de,"%ThrowTypeError%":Gr,"%TypedArray%":jr,"%TypeError%":ie,"%Uint8Array%":typeof Uint8Array=="undefined"?b:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray=="undefined"?b:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array=="undefined"?b:Uint16Array,"%Uint32Array%":typeof Uint32Array=="undefined"?b:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap=="undefined"?b:WeakMap,"%WeakRef%":typeof WeakRef=="undefined"?b:WeakRef,"%WeakSet%":typeof WeakSet=="undefined"?b:WeakSet},Jr=function t(e){var r;if(e==="%AsyncFunction%")r=Je("async function () {}");else if(e==="%GeneratorFunction%")r=Je("function* () {}");else if(e==="%AsyncGeneratorFunction%")r=Je("async function* () {}");else if(e==="%AsyncGenerator%"){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(e==="%AsyncIteratorPrototype%"){var i=t("%AsyncGenerator%");i&&(r=V(i.prototype))}return ae[e]=r,r},qt={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},Te=je,xe=Vr,Kr=Te.call(Function.call,Array.prototype.concat),Xr=Te.call(Function.apply,Array.prototype.splice),Mt=Te.call(Function.call,String.prototype.replace),Re=Te.call(Function.call,String.prototype.slice),Qr=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,Yr=/\\(\\)?/g,Zr=function(e){var r=Re(e,0,1),n=Re(e,-1);if(r==="%"&&n!=="%")throw new de("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new de("invalid intrinsic syntax, expected opening `%`");var i=[];return Mt(e,Qr,function(o,s,a,u){i[i.length]=a?Mt(u,Yr,"$1"):s||o}),i},en=function(e,r){var n=e,i;if(xe(qt,n)&&(i=qt[n],n="%"+i[0]+"%"),xe(ae,n)){var o=ae[n];if(o===se&&(o=Jr(n)),typeof o=="undefined"&&!r)throw new ie("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:i,name:n,value:o}}throw new de("intrinsic "+e+" does not exist!")},Xe=function(e,r){if(typeof e!="string"||e.length===0)throw new ie("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new ie('"allowMissing" argument must be a boolean');var n=Zr(e),i=n.length>0?n[0]:"",o=en("%"+i+"%",r),s=o.name,a=o.value,u=!1,p=o.alias;p&&(i=p[0],Xr(n,Kr([0,1],p)));for(var d=1,m=!0;d<n.length;d+=1){var h=n[d],A=Re(h,0,1),E=Re(h,-1);if((A==='"'||A==="'"||A==="`"||E==='"'||E==="'"||E==="`")&&A!==E)throw new de("property names with quotes must have matching quotes");if((h==="constructor"||!m)&&(u=!0),i+="."+h,s="%"+i+"%",xe(ae,s))a=ae[s];else if(a!=null){if(!(h in a)){if(!r)throw new ie("base intrinsic for "+e+" exists, but the property is not available.");return}if(Z&&d+1>=n.length){var P=Z(a,h);m=!!P,m&&"get"in P&&!("originalValue"in P.get)?a=P.get:a=a[h]}else m=xe(a,h),a=a[h];m&&!u&&(ae[s]=a)}}return a},Ut={exports:{}};(function(t){var e=je,r=Xe,n=r("%Function.prototype.apply%"),i=r("%Function.prototype.call%"),o=r("%Reflect.apply%",!0)||e.call(i,n),s=r("%Object.getOwnPropertyDescriptor%",!0),a=r("%Object.defineProperty%",!0),u=r("%Math.max%");if(a)try{a({},"a",{value:1})}catch{a=null}t.exports=function(m){var h=o(e,i,arguments);if(s&&a){var A=s(h,"length");A.configurable&&a(h,"length",{value:1+u(0,m.length-(arguments.length-1))})}return h};var p=function(){return o(e,n,arguments)};a?a(t.exports,"apply",{value:p}):t.exports.apply=p})(Ut);var Ht=Xe,Wt=Ut.exports,tn=Wt(Ht("String.prototype.indexOf")),rn=function(e,r){var n=Ht(e,!!r);return typeof n=="function"&&tn(e,".prototype.")>-1?Wt(n):n},nn={},on=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:nn}),sn=Br(on),Qe=typeof Map=="function"&&Map.prototype,Ye=Object.getOwnPropertyDescriptor&&Qe?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,Pe=Qe&&Ye&&typeof Ye.get=="function"?Ye.get:null,an=Qe&&Map.prototype.forEach,Ze=typeof Set=="function"&&Set.prototype,et=Object.getOwnPropertyDescriptor&&Ze?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,Ce=Ze&&et&&typeof et.get=="function"?et.get:null,cn=Ze&&Set.prototype.forEach,fn=typeof WeakMap=="function"&&WeakMap.prototype,me=fn?WeakMap.prototype.has:null,un=typeof WeakSet=="function"&&WeakSet.prototype,ge=un?WeakSet.prototype.has:null,ln=typeof WeakRef=="function"&&WeakRef.prototype,zt=ln?WeakRef.prototype.deref:null,pn=Boolean.prototype.valueOf,hn=Object.prototype.toString,yn=Function.prototype.toString,dn=String.prototype.match,tt=String.prototype.slice,G=String.prototype.replace,mn=String.prototype.toUpperCase,Vt=String.prototype.toLowerCase,Gt=RegExp.prototype.test,jt=Array.prototype.concat,q=Array.prototype.join,gn=Array.prototype.slice,Jt=Math.floor,rt=typeof BigInt=="function"?BigInt.prototype.valueOf:null,nt=Object.getOwnPropertySymbols,it=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,ce=typeof Symbol=="function"&&typeof Symbol.iterator=="object",N=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===ce?"object":"symbol")?Symbol.toStringTag:null,Kt=Object.prototype.propertyIsEnumerable,Xt=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(t){return t.__proto__}:null);function Qt(t,e){if(t===1/0||t===-1/0||t!==t||t&&t>-1e3&&t<1e3||Gt.call(/e/,e))return e;var r=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof t=="number"){var n=t<0?-Jt(-t):Jt(t);if(n!==t){var i=String(n),o=tt.call(e,i.length+1);return G.call(i,r,"$&_")+"."+G.call(G.call(o,/([0-9]{3})/g,"$&_"),/_$/,"")}}return G.call(e,r,"$&_")}var ot=sn.custom,st=ot&&Zt(ot)?ot:null,vn=function t(e,r,n,i){var o=r||{};if(j(o,"quoteStyle")&&o.quoteStyle!=="single"&&o.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(j(o,"maxStringLength")&&(typeof o.maxStringLength=="number"?o.maxStringLength<0&&o.maxStringLength!==1/0:o.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var s=j(o,"customInspect")?o.customInspect:!0;if(typeof s!="boolean"&&s!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(j(o,"indent")&&o.indent!==null&&o.indent!=="	"&&!(parseInt(o.indent,10)===o.indent&&o.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(j(o,"numericSeparator")&&typeof o.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var a=o.numericSeparator;if(typeof e=="undefined")return"undefined";if(e===null)return"null";if(typeof e=="boolean")return e?"true":"false";if(typeof e=="string")return tr(e,o);if(typeof e=="number"){if(e===0)return 1/0/e>0?"0":"-0";var u=String(e);return a?Qt(e,u):u}if(typeof e=="bigint"){var p=String(e)+"n";return a?Qt(e,p):p}var d=typeof o.depth=="undefined"?5:o.depth;if(typeof n=="undefined"&&(n=0),n>=d&&d>0&&typeof e=="object")return at(e)?"[Array]":"[Object]";var m=Fn(o,n);if(typeof i=="undefined")i=[];else if(er(i,e)>=0)return"[Circular]";function h(T,k,L){if(k&&(i=gn.call(i),i.push(k)),L){var he={depth:o.depth};return j(o,"quoteStyle")&&(he.quoteStyle=o.quoteStyle),t(T,he,n+1,i)}return t(T,o,n+1,i)}if(typeof e=="function"){var A=Rn(e),E=Ne(e,h);return"[Function"+(A?": "+A:" (anonymous)")+"]"+(E.length>0?" { "+q.call(E,", ")+" }":"")}if(Zt(e)){var P=ce?G.call(String(e),/^(Symbol\(.*\))_[^)]*$/,"$1"):it.call(e);return typeof e=="object"&&!ce?ve(P):P}if(In(e)){for(var S="<"+Vt.call(String(e.nodeName)),$=e.attributes||[],I=0;I<$.length;I++)S+=" "+$[I].name+"="+Yt(bn($[I].value),"double",o);return S+=">",e.childNodes&&e.childNodes.length&&(S+="..."),S+="</"+Vt.call(String(e.nodeName))+">",S}if(at(e)){if(e.length===0)return"[]";var D=Ne(e,h);return m&&!Ln(D)?"["+ft(D,m)+"]":"[ "+q.call(D,", ")+" ]"}if(_n(e)){var _=Ne(e,h);return"cause"in e&&!Kt.call(e,"cause")?"{ ["+String(e)+"] "+q.call(jt.call("[cause]: "+h(e.cause),_),", ")+" }":_.length===0?"["+String(e)+"]":"{ ["+String(e)+"] "+q.call(_,", ")+" }"}if(typeof e=="object"&&s){if(st&&typeof e[st]=="function")return e[st]();if(s!=="symbol"&&typeof e.inspect=="function")return e.inspect()}if(Pn(e)){var z=[];return an.call(e,function(T,k){z.push(h(k,e,!0)+" => "+h(T,e))}),rr("Map",Pe.call(e),z,m)}if(kn(e)){var c=[];return cn.call(e,function(T){c.push(h(T,e))}),rr("Set",Ce.call(e),c,m)}if(Cn(e))return ct("WeakMap");if(Bn(e))return ct("WeakSet");if(Nn(e))return ct("WeakRef");if(An(e))return ve(h(Number(e)));if(Tn(e))return ve(h(rt.call(e)));if(On(e))return ve(pn.call(e));if(En(e))return ve(h(String(e)));if(!wn(e)&&!Sn(e)){var f=Ne(e,h),l=Xt?Xt(e)===Object.prototype:e instanceof Object||e.constructor===Object,y=e instanceof Object?"":"null prototype",g=!l&&N&&Object(e)===e&&N in e?tt.call(J(e),8,-1):y?"Object":"",O=l||typeof e.constructor!="function"?"":e.constructor.name?e.constructor.name+" ":"",x=O+(g||y?"["+q.call(jt.call([],g||[],y||[]),": ")+"] ":"");return f.length===0?x+"{}":m?x+"{"+ft(f,m)+"}":x+"{ "+q.call(f,", ")+" }"}return String(e)};function Yt(t,e,r){var n=(r.quoteStyle||e)==="double"?'"':"'";return n+t+n}function bn(t){return G.call(String(t),/"/g,"&quot;")}function at(t){return J(t)==="[object Array]"&&(!N||!(typeof t=="object"&&N in t))}function wn(t){return J(t)==="[object Date]"&&(!N||!(typeof t=="object"&&N in t))}function Sn(t){return J(t)==="[object RegExp]"&&(!N||!(typeof t=="object"&&N in t))}function _n(t){return J(t)==="[object Error]"&&(!N||!(typeof t=="object"&&N in t))}function En(t){return J(t)==="[object String]"&&(!N||!(typeof t=="object"&&N in t))}function An(t){return J(t)==="[object Number]"&&(!N||!(typeof t=="object"&&N in t))}function On(t){return J(t)==="[object Boolean]"&&(!N||!(typeof t=="object"&&N in t))}function Zt(t){if(ce)return t&&typeof t=="object"&&t instanceof Symbol;if(typeof t=="symbol")return!0;if(!t||typeof t!="object"||!it)return!1;try{return it.call(t),!0}catch{}return!1}function Tn(t){if(!t||typeof t!="object"||!rt)return!1;try{return rt.call(t),!0}catch{}return!1}var xn=Object.prototype.hasOwnProperty||function(t){return t in this};function j(t,e){return xn.call(t,e)}function J(t){return hn.call(t)}function Rn(t){if(t.name)return t.name;var e=dn.call(yn.call(t),/^function\s*([\w$]+)/);return e?e[1]:null}function er(t,e){if(t.indexOf)return t.indexOf(e);for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}function Pn(t){if(!Pe||!t||typeof t!="object")return!1;try{Pe.call(t);try{Ce.call(t)}catch{return!0}return t instanceof Map}catch{}return!1}function Cn(t){if(!me||!t||typeof t!="object")return!1;try{me.call(t,me);try{ge.call(t,ge)}catch{return!0}return t instanceof WeakMap}catch{}return!1}function Nn(t){if(!zt||!t||typeof t!="object")return!1;try{return zt.call(t),!0}catch{}return!1}function kn(t){if(!Ce||!t||typeof t!="object")return!1;try{Ce.call(t);try{Pe.call(t)}catch{return!0}return t instanceof Set}catch{}return!1}function Bn(t){if(!ge||!t||typeof t!="object")return!1;try{ge.call(t,ge);try{me.call(t,me)}catch{return!0}return t instanceof WeakSet}catch{}return!1}function In(t){return!t||typeof t!="object"?!1:typeof HTMLElement!="undefined"&&t instanceof HTMLElement?!0:typeof t.nodeName=="string"&&typeof t.getAttribute=="function"}function tr(t,e){if(t.length>e.maxStringLength){var r=t.length-e.maxStringLength,n="... "+r+" more character"+(r>1?"s":"");return tr(tt.call(t,0,e.maxStringLength),e)+n}var i=G.call(G.call(t,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,Dn);return Yt(i,"single",e)}function Dn(t){var e=t.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return r?"\\"+r:"\\x"+(e<16?"0":"")+mn.call(e.toString(16))}function ve(t){return"Object("+t+")"}function ct(t){return t+" { ? }"}function rr(t,e,r,n){var i=n?ft(r,n):q.call(r,", ");return t+" ("+e+") {"+i+"}"}function Ln(t){for(var e=0;e<t.length;e++)if(er(t[e],`
`)>=0)return!1;return!0}function Fn(t,e){var r;if(t.indent==="	")r="	";else if(typeof t.indent=="number"&&t.indent>0)r=q.call(Array(t.indent+1)," ");else return null;return{base:r,prev:q.call(Array(e+1),r)}}function ft(t,e){if(t.length===0)return"";var r=`
`+e.prev+e.base;return r+q.call(t,","+r)+`
`+e.prev}function Ne(t,e){var r=at(t),n=[];if(r){n.length=t.length;for(var i=0;i<t.length;i++)n[i]=j(t,i)?e(t[i],t):""}var o=typeof nt=="function"?nt(t):[],s;if(ce){s={};for(var a=0;a<o.length;a++)s["$"+o[a]]=o[a]}for(var u in t)!j(t,u)||r&&String(Number(u))===u&&u<t.length||ce&&s["$"+u]instanceof Symbol||(Gt.call(/[^\w$]/,u)?n.push(e(u,t)+": "+e(t[u],t)):n.push(u+": "+e(t[u],t)));if(typeof nt=="function")for(var p=0;p<o.length;p++)Kt.call(t,o[p])&&n.push("["+e(o[p])+"]: "+e(t[o[p]],t));return n}var ut=Xe,fe=rn,$n=vn,qn=ut("%TypeError%"),ke=ut("%WeakMap%",!0),Be=ut("%Map%",!0),Mn=fe("WeakMap.prototype.get",!0),Un=fe("WeakMap.prototype.set",!0),Hn=fe("WeakMap.prototype.has",!0),Wn=fe("Map.prototype.get",!0),zn=fe("Map.prototype.set",!0),Vn=fe("Map.prototype.has",!0),lt=function(t,e){for(var r=t,n;(n=r.next)!==null;r=n)if(n.key===e)return r.next=n.next,n.next=t.next,t.next=n,n},Gn=function(t,e){var r=lt(t,e);return r&&r.value},jn=function(t,e,r){var n=lt(t,e);n?n.value=r:t.next={key:e,next:t.next,value:r}},Jn=function(t,e){return!!lt(t,e)},Kn=function(){var e,r,n,i={assert:function(o){if(!i.has(o))throw new qn("Side channel does not contain "+$n(o))},get:function(o){if(ke&&o&&(typeof o=="object"||typeof o=="function")){if(e)return Mn(e,o)}else if(Be){if(r)return Wn(r,o)}else if(n)return Gn(n,o)},has:function(o){if(ke&&o&&(typeof o=="object"||typeof o=="function")){if(e)return Hn(e,o)}else if(Be){if(r)return Vn(r,o)}else if(n)return Jn(n,o);return!1},set:function(o,s){ke&&o&&(typeof o=="object"||typeof o=="function")?(e||(e=new ke),Un(e,o,s)):Be?(r||(r=new Be),zn(r,o,s)):(n||(n={key:{},next:null}),jn(n,o,s))}};return i},Xn=String.prototype.replace,Qn=/%20/g,pt={RFC1738:"RFC1738",RFC3986:"RFC3986"},ht={default:pt.RFC3986,formatters:{RFC1738:function(t){return Xn.call(t,Qn,"+")},RFC3986:function(t){return String(t)}},RFC1738:pt.RFC1738,RFC3986:pt.RFC3986},Yn=ht,yt=Object.prototype.hasOwnProperty,ee=Array.isArray,M=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),Zn=function(e){for(;e.length>1;){var r=e.pop(),n=r.obj[r.prop];if(ee(n)){for(var i=[],o=0;o<n.length;++o)typeof n[o]!="undefined"&&i.push(n[o]);r.obj[r.prop]=i}}},nr=function(e,r){for(var n=r&&r.plainObjects?Object.create(null):{},i=0;i<e.length;++i)typeof e[i]!="undefined"&&(n[i]=e[i]);return n},ei=function t(e,r,n){if(!r)return e;if(typeof r!="object"){if(ee(e))e.push(r);else if(e&&typeof e=="object")(n&&(n.plainObjects||n.allowPrototypes)||!yt.call(Object.prototype,r))&&(e[r]=!0);else return[e,r];return e}if(!e||typeof e!="object")return[e].concat(r);var i=e;return ee(e)&&!ee(r)&&(i=nr(e,n)),ee(e)&&ee(r)?(r.forEach(function(o,s){if(yt.call(e,s)){var a=e[s];a&&typeof a=="object"&&o&&typeof o=="object"?e[s]=t(a,o,n):e.push(o)}else e[s]=o}),e):Object.keys(r).reduce(function(o,s){var a=r[s];return yt.call(o,s)?o[s]=t(o[s],a,n):o[s]=a,o},i)},ti=function(e,r){return Object.keys(r).reduce(function(n,i){return n[i]=r[i],n},e)},ri=function(t,e,r){var n=t.replace(/\+/g," ");if(r==="iso-8859-1")return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch{return n}},ni=function(e,r,n,i,o){if(e.length===0)return e;var s=e;if(typeof e=="symbol"?s=Symbol.prototype.toString.call(e):typeof e!="string"&&(s=String(e)),n==="iso-8859-1")return escape(s).replace(/%u[0-9a-f]{4}/gi,function(d){return"%26%23"+parseInt(d.slice(2),16)+"%3B"});for(var a="",u=0;u<s.length;++u){var p=s.charCodeAt(u);if(p===45||p===46||p===95||p===126||p>=48&&p<=57||p>=65&&p<=90||p>=97&&p<=122||o===Yn.RFC1738&&(p===40||p===41)){a+=s.charAt(u);continue}if(p<128){a=a+M[p];continue}if(p<2048){a=a+(M[192|p>>6]+M[128|p&63]);continue}if(p<55296||p>=57344){a=a+(M[224|p>>12]+M[128|p>>6&63]+M[128|p&63]);continue}u+=1,p=65536+((p&1023)<<10|s.charCodeAt(u)&1023),a+=M[240|p>>18]+M[128|p>>12&63]+M[128|p>>6&63]+M[128|p&63]}return a},ii=function(e){for(var r=[{obj:{o:e},prop:"o"}],n=[],i=0;i<r.length;++i)for(var o=r[i],s=o.obj[o.prop],a=Object.keys(s),u=0;u<a.length;++u){var p=a[u],d=s[p];typeof d=="object"&&d!==null&&n.indexOf(d)===-1&&(r.push({obj:s,prop:p}),n.push(d))}return Zn(r),e},oi=function(e){return Object.prototype.toString.call(e)==="[object RegExp]"},si=function(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},ai=function(e,r){return[].concat(e,r)},ci=function(e,r){if(ee(e)){for(var n=[],i=0;i<e.length;i+=1)n.push(r(e[i]));return n}return r(e)},ir={arrayToObject:nr,assign:ti,combine:ai,compact:ii,decode:ri,encode:ni,isBuffer:si,isRegExp:oi,maybeMap:ci,merge:ei},or=Kn,dt=ir,be=ht,fi=Object.prototype.hasOwnProperty,sr={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,r){return e+"["+r+"]"},repeat:function(e){return e}},te=Array.isArray,ui=String.prototype.split,li=Array.prototype.push,ar=function(t,e){li.apply(t,te(e)?e:[e])},pi=Date.prototype.toISOString,cr=be.default,C={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:dt.encode,encodeValuesOnly:!1,format:cr,formatter:be.formatters[cr],indices:!1,serializeDate:function(e){return pi.call(e)},skipNulls:!1,strictNullHandling:!1},hi=function(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"},mt={},yi=function t(e,r,n,i,o,s,a,u,p,d,m,h,A,E,P){for(var S=e,$=P,I=0,D=!1;($=$.get(mt))!==void 0&&!D;){var _=$.get(e);if(I+=1,typeof _!="undefined"){if(_===I)throw new RangeError("Cyclic object value");D=!0}typeof $.get(mt)=="undefined"&&(I=0)}if(typeof a=="function"?S=a(r,S):S instanceof Date?S=d(S):n==="comma"&&te(S)&&(S=dt.maybeMap(S,function(He){return He instanceof Date?d(He):He})),S===null){if(i)return s&&!A?s(r,C.encoder,E,"key",m):r;S=""}if(hi(S)||dt.isBuffer(S)){if(s){var z=A?r:s(r,C.encoder,E,"key",m);if(n==="comma"&&A){for(var c=ui.call(String(S),","),f="",l=0;l<c.length;++l)f+=(l===0?"":",")+h(s(c[l],C.encoder,E,"value",m));return[h(z)+"="+f]}return[h(z)+"="+h(s(S,C.encoder,E,"value",m))]}return[h(r)+"="+h(String(S))]}var y=[];if(typeof S=="undefined")return y;var g;if(n==="comma"&&te(S))g=[{value:S.length>0?S.join(",")||null:void 0}];else if(te(a))g=a;else{var O=Object.keys(S);g=u?O.sort(u):O}for(var x=0;x<g.length;++x){var T=g[x],k=typeof T=="object"&&T.value!==void 0?T.value:S[T];if(!(o&&k===null)){var L=te(S)?typeof n=="function"?n(r,T):r:r+(p?"."+T:"["+T+"]");P.set(e,I);var he=or();he.set(mt,P),ar(y,t(k,L,n,i,o,s,a,u,p,d,m,h,A,E,he))}}return y},di=function(e){if(!e)return C;if(e.encoder!==null&&e.encoder!==void 0&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");var r=e.charset||C.charset;if(typeof e.charset!="undefined"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=be.default;if(typeof e.format!="undefined"){if(!fi.call(be.formatters,e.format))throw new TypeError("Unknown format option provided.");n=e.format}var i=be.formatters[n],o=C.filter;return(typeof e.filter=="function"||te(e.filter))&&(o=e.filter),{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:C.addQueryPrefix,allowDots:typeof e.allowDots=="undefined"?C.allowDots:!!e.allowDots,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:C.charsetSentinel,delimiter:typeof e.delimiter=="undefined"?C.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:C.encode,encoder:typeof e.encoder=="function"?e.encoder:C.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:C.encodeValuesOnly,filter:o,format:n,formatter:i,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:C.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:C.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:C.strictNullHandling}},mi=function(t,e){var r=t,n=di(e),i,o;typeof n.filter=="function"?(o=n.filter,r=o("",r)):te(n.filter)&&(o=n.filter,i=o);var s=[];if(typeof r!="object"||r===null)return"";var a;e&&e.arrayFormat in sr?a=e.arrayFormat:e&&"indices"in e?a=e.indices?"indices":"repeat":a="indices";var u=sr[a];i||(i=Object.keys(r)),n.sort&&i.sort(n.sort);for(var p=or(),d=0;d<i.length;++d){var m=i[d];n.skipNulls&&r[m]===null||ar(s,yi(r[m],m,u,n.strictNullHandling,n.skipNulls,n.encode?n.encoder:null,n.filter,n.sort,n.allowDots,n.serializeDate,n.format,n.formatter,n.encodeValuesOnly,n.charset,p))}var h=s.join(n.delimiter),A=n.addQueryPrefix===!0?"?":"";return n.charsetSentinel&&(n.charset==="iso-8859-1"?A+="utf8=%26%2310003%3B&":A+="utf8=%E2%9C%93&"),h.length>0?A+h:""},ue=ir,gt=Object.prototype.hasOwnProperty,gi=Array.isArray,R={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:ue.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},vi=function(t){return t.replace(/&#(\d+);/g,function(e,r){return String.fromCharCode(parseInt(r,10))})},fr=function(t,e){return t&&typeof t=="string"&&e.comma&&t.indexOf(",")>-1?t.split(","):t},bi="utf8=%26%2310003%3B",wi="utf8=%E2%9C%93",Si=function(e,r){var n={},i=r.ignoreQueryPrefix?e.replace(/^\?/,""):e,o=r.parameterLimit===1/0?void 0:r.parameterLimit,s=i.split(r.delimiter,o),a=-1,u,p=r.charset;if(r.charsetSentinel)for(u=0;u<s.length;++u)s[u].indexOf("utf8=")===0&&(s[u]===wi?p="utf-8":s[u]===bi&&(p="iso-8859-1"),a=u,u=s.length);for(u=0;u<s.length;++u)if(u!==a){var d=s[u],m=d.indexOf("]="),h=m===-1?d.indexOf("="):m+1,A,E;h===-1?(A=r.decoder(d,R.decoder,p,"key"),E=r.strictNullHandling?null:""):(A=r.decoder(d.slice(0,h),R.decoder,p,"key"),E=ue.maybeMap(fr(d.slice(h+1),r),function(P){return r.decoder(P,R.decoder,p,"value")})),E&&r.interpretNumericEntities&&p==="iso-8859-1"&&(E=vi(E)),d.indexOf("[]=")>-1&&(E=gi(E)?[E]:E),gt.call(n,A)?n[A]=ue.combine(n[A],E):n[A]=E}return n},_i=function(t,e,r,n){for(var i=n?e:fr(e,r),o=t.length-1;o>=0;--o){var s,a=t[o];if(a==="[]"&&r.parseArrays)s=[].concat(i);else{s=r.plainObjects?Object.create(null):{};var u=a.charAt(0)==="["&&a.charAt(a.length-1)==="]"?a.slice(1,-1):a,p=parseInt(u,10);!r.parseArrays&&u===""?s={0:i}:!isNaN(p)&&a!==u&&String(p)===u&&p>=0&&r.parseArrays&&p<=r.arrayLimit?(s=[],s[p]=i):s[u]=i}i=s}return i},Ei=function(e,r,n,i){if(!!e){var o=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,s=/(\[[^[\]]*])/,a=/(\[[^[\]]*])/g,u=n.depth>0&&s.exec(o),p=u?o.slice(0,u.index):o,d=[];if(p){if(!n.plainObjects&&gt.call(Object.prototype,p)&&!n.allowPrototypes)return;d.push(p)}for(var m=0;n.depth>0&&(u=a.exec(o))!==null&&m<n.depth;){if(m+=1,!n.plainObjects&&gt.call(Object.prototype,u[1].slice(1,-1))&&!n.allowPrototypes)return;d.push(u[1])}return u&&d.push("["+o.slice(u.index)+"]"),_i(d,r,n,i)}},Ai=function(e){if(!e)return R;if(e.decoder!==null&&e.decoder!==void 0&&typeof e.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof e.charset!="undefined"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=typeof e.charset=="undefined"?R.charset:e.charset;return{allowDots:typeof e.allowDots=="undefined"?R.allowDots:!!e.allowDots,allowPrototypes:typeof e.allowPrototypes=="boolean"?e.allowPrototypes:R.allowPrototypes,allowSparse:typeof e.allowSparse=="boolean"?e.allowSparse:R.allowSparse,arrayLimit:typeof e.arrayLimit=="number"?e.arrayLimit:R.arrayLimit,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:R.charsetSentinel,comma:typeof e.comma=="boolean"?e.comma:R.comma,decoder:typeof e.decoder=="function"?e.decoder:R.decoder,delimiter:typeof e.delimiter=="string"||ue.isRegExp(e.delimiter)?e.delimiter:R.delimiter,depth:typeof e.depth=="number"||e.depth===!1?+e.depth:R.depth,ignoreQueryPrefix:e.ignoreQueryPrefix===!0,interpretNumericEntities:typeof e.interpretNumericEntities=="boolean"?e.interpretNumericEntities:R.interpretNumericEntities,parameterLimit:typeof e.parameterLimit=="number"?e.parameterLimit:R.parameterLimit,parseArrays:e.parseArrays!==!1,plainObjects:typeof e.plainObjects=="boolean"?e.plainObjects:R.plainObjects,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:R.strictNullHandling}},Oi=function(t,e){var r=Ai(e);if(t===""||t===null||typeof t=="undefined")return r.plainObjects?Object.create(null):{};for(var n=typeof t=="string"?Si(t,r):t,i=r.plainObjects?Object.create(null):{},o=Object.keys(n),s=0;s<o.length;++s){var a=o[s],u=Ei(a,n[a],r,typeof t=="string");i=ue.merge(i,u,r)}return r.allowSparse===!0?i:ue.compact(i)},Ti=mi,xi=Oi,Ri=ht,Pi={formats:Ri,parse:xi,stringify:Ti};function Ie(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ie=function(r){return typeof r}:Ie=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Ie(t)}function Ci(t){return t!==null&&Ie(t)==="object"}var ur=Ci;function De(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?De=function(r){return typeof r}:De=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},De(t)}var Le=ur,Ni=v;function v(t){if(t)return ki(t)}function ki(t){for(var e in v.prototype)Object.prototype.hasOwnProperty.call(v.prototype,e)&&(t[e]=v.prototype[e]);return t}v.prototype.clearTimeout=function(){return clearTimeout(this._timer),clearTimeout(this._responseTimeoutTimer),clearTimeout(this._uploadTimeoutTimer),delete this._timer,delete this._responseTimeoutTimer,delete this._uploadTimeoutTimer,this};v.prototype.parse=function(t){return this._parser=t,this};v.prototype.responseType=function(t){return this._responseType=t,this};v.prototype.serialize=function(t){return this._serializer=t,this};v.prototype.timeout=function(t){if(!t||De(t)!=="object")return this._timeout=t,this._responseTimeout=0,this._uploadTimeout=0,this;for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))switch(e){case"deadline":this._timeout=t.deadline;break;case"response":this._responseTimeout=t.response;break;case"upload":this._uploadTimeout=t.upload;break;default:console.warn("Unknown timeout option",e)}return this};v.prototype.retry=function(t,e){return(arguments.length===0||t===!0)&&(t=1),t<=0&&(t=0),this._maxRetries=t,this._retries=0,this._retryCallback=e,this};var Bi=new Set(["ETIMEDOUT","ECONNRESET","EADDRINUSE","ECONNREFUSED","EPIPE","ENOTFOUND","ENETUNREACH","EAI_AGAIN"]),Ii=new Set([408,413,429,500,502,503,504,521,522,524]);v.prototype._shouldRetry=function(t,e){if(!this._maxRetries||this._retries++>=this._maxRetries)return!1;if(this._retryCallback)try{var r=this._retryCallback(t,e);if(r===!0)return!0;if(r===!1)return!1}catch(n){console.error(n)}return!!(e&&e.status&&Ii.has(e.status)||t&&(t.code&&Bi.has(t.code)||t.timeout&&t.code==="ECONNABORTED"||t.crossDomain))};v.prototype._retry=function(){return this.clearTimeout(),this.req&&(this.req=null,this.req=this.request()),this._aborted=!1,this.timedout=!1,this.timedoutError=null,this._end()};v.prototype.then=function(t,e){var r=this;if(!this._fullfilledPromise){var n=this;this._endCalled&&console.warn("Warning: superagent request was sent twice, because both .end() and .then() were called. Never call .end() if you use promises"),this._fullfilledPromise=new Promise(function(i,o){n.on("abort",function(){if(!(r._maxRetries&&r._maxRetries>r._retries)){if(r.timedout&&r.timedoutError){o(r.timedoutError);return}var s=new Error("Aborted");s.code="ABORTED",s.status=r.status,s.method=r.method,s.url=r.url,o(s)}}),n.end(function(s,a){s?o(s):i(a)})})}return this._fullfilledPromise.then(t,e)};v.prototype.catch=function(t){return this.then(void 0,t)};v.prototype.use=function(t){return t(this),this};v.prototype.ok=function(t){if(typeof t!="function")throw new Error("Callback required");return this._okCallback=t,this};v.prototype._isResponseOK=function(t){return t?this._okCallback?this._okCallback(t):t.status>=200&&t.status<300:!1};v.prototype.get=function(t){return this._header[t.toLowerCase()]};v.prototype.getHeader=v.prototype.get;v.prototype.set=function(t,e){if(Le(t)){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&this.set(r,t[r]);return this}return this._header[t.toLowerCase()]=e,this.header[t]=e,this};v.prototype.unset=function(t){return delete this._header[t.toLowerCase()],delete this.header[t],this};v.prototype.field=function(t,e){if(t==null)throw new Error(".field(name, val) name can not be empty");if(this._data)throw new Error(".field() can't be used if .send() is used. Please use only .send() or only .field() & .attach()");if(Le(t)){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&this.field(r,t[r]);return this}if(Array.isArray(e)){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&this.field(t,e[n]);return this}if(e==null)throw new Error(".field(name, val) val can not be empty");return typeof e=="boolean"&&(e=String(e)),this._getFormData().append(t,e),this};v.prototype.abort=function(){return this._aborted?this:(this._aborted=!0,this.xhr&&this.xhr.abort(),this.req&&this.req.abort(),this.clearTimeout(),this.emit("abort"),this)};v.prototype._auth=function(t,e,r,n){switch(r.type){case"basic":this.set("Authorization","Basic ".concat(n("".concat(t,":").concat(e))));break;case"auto":this.username=t,this.password=e;break;case"bearer":this.set("Authorization","Bearer ".concat(t));break}return this};v.prototype.withCredentials=function(t){return t===void 0&&(t=!0),this._withCredentials=t,this};v.prototype.redirects=function(t){return this._maxRedirects=t,this};v.prototype.maxResponseSize=function(t){if(typeof t!="number")throw new TypeError("Invalid argument");return this._maxResponseSize=t,this};v.prototype.toJSON=function(){return{method:this.method,url:this.url,data:this._data,headers:this._header}};v.prototype.send=function(t){var e=Le(t),r=this._header["content-type"];if(this._formData)throw new Error(".send() can't be used if .attach() or .field() is used. Please use only .send() or only .field() & .attach()");if(e&&!this._data)Array.isArray(t)?this._data=[]:this._isHost(t)||(this._data={});else if(t&&this._data&&this._isHost(this._data))throw new Error("Can't merge these send calls");if(e&&Le(this._data))for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(this._data[n]=t[n]);else typeof t=="string"?(r||this.type("form"),r=this._header["content-type"],r&&(r=r.toLowerCase().trim()),r==="application/x-www-form-urlencoded"?this._data=this._data?"".concat(this._data,"&").concat(t):t:this._data=(this._data||"")+t):this._data=t;return!e||this._isHost(t)?this:(r||this.type("json"),this)};v.prototype.sortQuery=function(t){return this._sort=typeof t=="undefined"?!0:t,this};v.prototype._finalizeQueryString=function(){var t=this._query.join("&");if(t&&(this.url+=(this.url.includes("?")?"&":"?")+t),this._query.length=0,this._sort){var e=this.url.indexOf("?");if(e>=0){var r=this.url.slice(e+1).split("&");typeof this._sort=="function"?r.sort(this._sort):r.sort(),this.url=this.url.slice(0,e)+"?"+r.join("&")}}};v.prototype._appendQueryString=function(){console.warn("Unsupported")};v.prototype._timeoutError=function(t,e,r){if(!this._aborted){var n=new Error("".concat(t+e,"ms exceeded"));n.timeout=e,n.code="ECONNABORTED",n.errno=r,this.timedout=!0,this.timedoutError=n,this.abort(),this.callback(n)}};v.prototype._setTimeouts=function(){var t=this;this._timeout&&!this._timer&&(this._timer=setTimeout(function(){t._timeoutError("Timeout of ",t._timeout,"ETIME")},this._timeout)),this._responseTimeout&&!this._responseTimeoutTimer&&(this._responseTimeoutTimer=setTimeout(function(){t._timeoutError("Response timeout of ",t._responseTimeout,"ETIMEDOUT")},this._responseTimeout))};var we={};function lr(t,e){var r;if(typeof Symbol=="undefined"||t[Symbol.iterator]==null){if(Array.isArray(t)||(r=Di(t))||e&&t&&typeof t.length=="number"){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(p){throw p},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o=!0,s=!1,a;return{s:function(){r=t[Symbol.iterator]()},n:function(){var p=r.next();return o=p.done,p},e:function(p){s=!0,a=p},f:function(){try{!o&&r.return!=null&&r.return()}finally{if(s)throw a}}}}function Di(t,e){if(!!t){if(typeof t=="string")return pr(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return pr(t,e)}}function pr(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}we.type=function(t){return t.split(/ *; */).shift()};we.params=function(t){var e={},r=lr(t.split(/ *; */)),n;try{for(r.s();!(n=r.n()).done;){var i=n.value,o=i.split(/ *= */),s=o.shift(),a=o.shift();s&&a&&(e[s]=a)}}catch(u){r.e(u)}finally{r.f()}return e};we.parseLinks=function(t){var e={},r=lr(t.split(/ *, */)),n;try{for(r.s();!(n=r.n()).done;){var i=n.value,o=i.split(/ *; */),s=o[0].slice(1,-1),a=o[1].split(/ *= */)[1].slice(1,-1);e[a]=s}}catch(u){r.e(u)}finally{r.f()}return e};we.cleanHeader=function(t,e){return delete t["content-type"],delete t["content-length"],delete t["transfer-encoding"],delete t.host,e&&(delete t.authorization,delete t.cookie),t};var vt=we,Li=re;function re(t){if(t)return Fi(t)}function Fi(t){for(var e in re.prototype)Object.prototype.hasOwnProperty.call(re.prototype,e)&&(t[e]=re.prototype[e]);return t}re.prototype.get=function(t){return this.header[t.toLowerCase()]};re.prototype._setHeaderProperties=function(t){var e=t["content-type"]||"";this.type=vt.type(e);var r=vt.params(e);for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(this[n]=r[n]);this.links={};try{t.link&&(this.links=vt.parseLinks(t.link))}catch{}};re.prototype._setStatusProperties=function(t){var e=t/100|0;this.statusCode=t,this.status=this.statusCode,this.statusType=e,this.info=e===1,this.ok=e===2,this.redirect=e===3,this.clientError=e===4,this.serverError=e===5,this.error=e===4||e===5?this.toError():!1,this.created=t===201,this.accepted=t===202,this.noContent=t===204,this.badRequest=t===400,this.unauthorized=t===401,this.notAcceptable=t===406,this.forbidden=t===403,this.notFound=t===404,this.unprocessableEntity=t===422};function $i(t){return Hi(t)||Ui(t)||Mi(t)||qi()}function qi(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Mi(t,e){if(!!t){if(typeof t=="string")return bt(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return bt(t,e)}}function Ui(t){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(t))return Array.from(t)}function Hi(t){if(Array.isArray(t))return bt(t)}function bt(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function wt(){this._defaults=[]}["use","on","once","set","query","type","accept","auth","withCredentials","sortQuery","retry","ok","redirects","timeout","buffer","serialize","parse","ca","key","pfx","cert","disableTLSCerts"].forEach(function(t){wt.prototype[t]=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return this._defaults.push({fn:t,args:r}),this}});wt.prototype._setDefaults=function(t){this._defaults.forEach(function(e){t[e.fn].apply(t,$i(e.args))})};var Wi=wt;(function(t,e){function r(c){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?r=function(l){return typeof l}:r=function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},r(c)}var n;typeof window!="undefined"?n=window:typeof self=="undefined"?(console.warn("Using browser-only version of superagent in non-browser environment"),n=void 0):n=self;var i=kt.exports,o=Ir,s=Pi,a=Ni,u=ur,p=Li,d=Wi;function m(){}t.exports=function(c,f){return typeof f=="function"?new e.Request("GET",c).end(f):arguments.length===1?new e.Request("GET",c):new e.Request(c,f)},e=t.exports;var h=e;e.Request=_,h.getXHR=function(){if(n.XMLHttpRequest&&(!n.location||n.location.protocol!=="file:"||!n.ActiveXObject))return new XMLHttpRequest;try{return new ActiveXObject("Microsoft.XMLHTTP")}catch{}try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch{}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch{}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch{}throw new Error("Browser-only version of superagent could not find XHR")};var A="".trim?function(c){return c.trim()}:function(c){return c.replace(/(^\s*|\s*$)/g,"")};function E(c){if(!u(c))return c;var f=[];for(var l in c)Object.prototype.hasOwnProperty.call(c,l)&&P(f,l,c[l]);return f.join("&")}function P(c,f,l){if(l!==void 0){if(l===null){c.push(encodeURI(f));return}if(Array.isArray(l))l.forEach(function(g){P(c,f,g)});else if(u(l))for(var y in l)Object.prototype.hasOwnProperty.call(l,y)&&P(c,"".concat(f,"[").concat(y,"]"),l[y]);else c.push(encodeURI(f)+"="+encodeURIComponent(l))}}h.serializeObject=E;function S(c){for(var f={},l=c.split("&"),y,g,O=0,x=l.length;O<x;++O)y=l[O],g=y.indexOf("="),g===-1?f[decodeURIComponent(y)]="":f[decodeURIComponent(y.slice(0,g))]=decodeURIComponent(y.slice(g+1));return f}h.parseString=S,h.types={html:"text/html",json:"application/json",xml:"text/xml",urlencoded:"application/x-www-form-urlencoded",form:"application/x-www-form-urlencoded","form-data":"application/x-www-form-urlencoded"},h.serialize={"application/x-www-form-urlencoded":s.stringify,"application/json":o},h.parse={"application/x-www-form-urlencoded":S,"application/json":JSON.parse};function $(c){for(var f=c.split(/\r?\n/),l={},y,g,O,x,T=0,k=f.length;T<k;++T)g=f[T],y=g.indexOf(":"),y!==-1&&(O=g.slice(0,y).toLowerCase(),x=A(g.slice(y+1)),l[O]=x);return l}function I(c){return/[/+]json($|[^-\w])/i.test(c)}function D(c){this.req=c,this.xhr=this.req.xhr,this.text=this.req.method!=="HEAD"&&(this.xhr.responseType===""||this.xhr.responseType==="text")||typeof this.xhr.responseType=="undefined"?this.xhr.responseText:null,this.statusText=this.req.xhr.statusText;var f=this.xhr.status;f===1223&&(f=204),this._setStatusProperties(f),this.headers=$(this.xhr.getAllResponseHeaders()),this.header=this.headers,this.header["content-type"]=this.xhr.getResponseHeader("content-type"),this._setHeaderProperties(this.header),this.text===null&&c._responseType?this.body=this.xhr.response:this.body=this.req.method==="HEAD"?null:this._parseBody(this.text?this.text:this.xhr.response)}p(D.prototype),D.prototype._parseBody=function(c){var f=h.parse[this.type];return this.req._parser?this.req._parser(this,c):(!f&&I(this.type)&&(f=h.parse["application/json"]),f&&c&&(c.length>0||c instanceof Object)?f(c):null)},D.prototype.toError=function(){var c=this.req,f=c.method,l=c.url,y="cannot ".concat(f," ").concat(l," (").concat(this.status,")"),g=new Error(y);return g.status=this.status,g.method=f,g.url=l,g},h.Response=D;function _(c,f){var l=this;this._query=this._query||[],this.method=c,this.url=f,this.header={},this._header={},this.on("end",function(){var y=null,g=null;try{g=new D(l)}catch(x){return y=new Error("Parser is unable to parse the response"),y.parse=!0,y.original=x,l.xhr?(y.rawResponse=typeof l.xhr.responseType=="undefined"?l.xhr.responseText:l.xhr.response,y.status=l.xhr.status?l.xhr.status:null,y.statusCode=y.status):(y.rawResponse=null,y.status=null),l.callback(y)}l.emit("response",g);var O;try{l._isResponseOK(g)||(O=new Error(g.statusText||g.text||"Unsuccessful HTTP response"))}catch(x){O=x}O?(O.original=y,O.response=g,O.status=g.status,l.callback(O,g)):l.callback(null,g)})}i(_.prototype),a(_.prototype),_.prototype.type=function(c){return this.set("Content-Type",h.types[c]||c),this},_.prototype.accept=function(c){return this.set("Accept",h.types[c]||c),this},_.prototype.auth=function(c,f,l){arguments.length===1&&(f=""),r(f)==="object"&&f!==null&&(l=f,f=""),l||(l={type:typeof btoa=="function"?"basic":"auto"});var y=function(O){if(typeof btoa=="function")return btoa(O);throw new Error("Cannot use basic auth, btoa is not a function")};return this._auth(c,f,l,y)},_.prototype.query=function(c){return typeof c!="string"&&(c=E(c)),c&&this._query.push(c),this},_.prototype.attach=function(c,f,l){if(f){if(this._data)throw new Error("superagent can't mix .send() and .attach()");this._getFormData().append(c,f,l||f.name)}return this},_.prototype._getFormData=function(){return this._formData||(this._formData=new n.FormData),this._formData},_.prototype.callback=function(c,f){if(this._shouldRetry(c,f))return this._retry();var l=this._callback;this.clearTimeout(),c&&(this._maxRetries&&(c.retries=this._retries-1),this.emit("error",c)),l(c,f)},_.prototype.crossDomainError=function(){var c=new Error(`Request has been terminated
Possible causes: the network is offline, Origin is not allowed by Access-Control-Allow-Origin, the page is being unloaded, etc.`);c.crossDomain=!0,c.status=this.status,c.method=this.method,c.url=this.url,this.callback(c)},_.prototype.agent=function(){return console.warn("This is not supported in browser version of superagent"),this},_.prototype.ca=_.prototype.agent,_.prototype.buffer=_.prototype.ca,_.prototype.write=function(){throw new Error("Streaming is not supported in browser version of superagent")},_.prototype.pipe=_.prototype.write,_.prototype._isHost=function(c){return c&&r(c)==="object"&&!Array.isArray(c)&&Object.prototype.toString.call(c)!=="[object Object]"},_.prototype.end=function(c){this._endCalled&&console.warn("Warning: .end() was called twice. This is not supported in superagent"),this._endCalled=!0,this._callback=c||m,this._finalizeQueryString(),this._end()},_.prototype._setUploadTimeout=function(){var c=this;this._uploadTimeout&&!this._uploadTimeoutTimer&&(this._uploadTimeoutTimer=setTimeout(function(){c._timeoutError("Upload timeout of ",c._uploadTimeout,"ETIMEDOUT")},this._uploadTimeout))},_.prototype._end=function(){if(this._aborted)return this.callback(new Error("The request has been aborted even before .end() was called"));var c=this;this.xhr=h.getXHR();var f=this.xhr,l=this._formData||this._data;this._setTimeouts(),f.onreadystatechange=function(){var T=f.readyState;if(T>=2&&c._responseTimeoutTimer&&clearTimeout(c._responseTimeoutTimer),T===4){var k;try{k=f.status}catch{k=0}if(!k)return c.timedout||c._aborted?void 0:c.crossDomainError();c.emit("end")}};var y=function(k,L){L.total>0&&(L.percent=L.loaded/L.total*100,L.percent===100&&clearTimeout(c._uploadTimeoutTimer)),L.direction=k,c.emit("progress",L)};if(this.hasListeners("progress"))try{f.addEventListener("progress",y.bind(null,"download")),f.upload&&f.upload.addEventListener("progress",y.bind(null,"upload"))}catch{}f.upload&&this._setUploadTimeout();try{this.username&&this.password?f.open(this.method,this.url,!0,this.username,this.password):f.open(this.method,this.url,!0)}catch(T){return this.callback(T)}if(this._withCredentials&&(f.withCredentials=!0),!this._formData&&this.method!=="GET"&&this.method!=="HEAD"&&typeof l!="string"&&!this._isHost(l)){var g=this._header["content-type"],O=this._serializer||h.serialize[g?g.split(";")[0]:""];!O&&I(g)&&(O=h.serialize["application/json"]),O&&(l=O(l))}for(var x in this.header)this.header[x]!==null&&Object.prototype.hasOwnProperty.call(this.header,x)&&f.setRequestHeader(x,this.header[x]);this._responseType&&(f.responseType=this._responseType),this.emit("request",this),f.send(typeof l=="undefined"?null:l)},h.agent=function(){return new d},["GET","POST","OPTIONS","PATCH","PUT","DELETE"].forEach(function(c){d.prototype[c.toLowerCase()]=function(f,l){var y=new h.Request(c,f);return this._setDefaults(y),l&&y.end(l),y}}),d.prototype.del=d.prototype.delete,h.get=function(c,f,l){var y=h("GET",c);return typeof f=="function"&&(l=f,f=null),f&&y.query(f),l&&y.end(l),y},h.head=function(c,f,l){var y=h("HEAD",c);return typeof f=="function"&&(l=f,f=null),f&&y.query(f),l&&y.end(l),y},h.options=function(c,f,l){var y=h("OPTIONS",c);return typeof f=="function"&&(l=f,f=null),f&&y.send(f),l&&y.end(l),y};function z(c,f,l){var y=h("DELETE",c);return typeof f=="function"&&(l=f,f=null),f&&y.send(f),l&&y.end(l),y}h.del=z,h.delete=z,h.patch=function(c,f,l){var y=h("PATCH",c);return typeof f=="function"&&(l=f,f=null),f&&y.send(f),l&&y.end(l),y},h.post=function(c,f,l){var y=h("POST",c);return typeof f=="function"&&(l=f,f=null),f&&y.send(f),l&&y.end(l),y},h.put=function(c,f,l){var y=h("PUT",c);return typeof f=="function"&&(l=f,f=null),f&&y.send(f),l&&y.end(l),y}})(We,We.exports);var No=We.exports,zi=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,Vi=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],St=function(e){var r=e,n=e.indexOf("["),i=e.indexOf("]");n!=-1&&i!=-1&&(e=e.substring(0,n)+e.substring(n,i).replace(/:/g,";")+e.substring(i,e.length));for(var o=zi.exec(e||""),s={},a=14;a--;)s[Vi[a]]=o[a]||"";return n!=-1&&i!=-1&&(s.source=r,s.host=s.host.substring(1,s.host.length-1).replace(/;/g,":"),s.authority=s.authority.replace("[","").replace("]","").replace(/;/g,":"),s.ipv6uri=!0),s.pathNames=Gi(s,s.path),s.queryKey=ji(s,s.query),s};function Gi(t,e){var r=/\/{2,9}/g,n=e.replace(r,"/").split("/");return(e.substr(0,1)=="/"||e.length===0)&&n.splice(0,1),e.substr(e.length-1,1)=="/"&&n.splice(n.length-1,1),n}function ji(t,e){var r={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(n,i,o){i&&(r[i]=o)}),r}function Ji(t,e="",r){let n=t;r=r||typeof location!="undefined"&&location,t==null&&(t=r.protocol+"//"+r.host),typeof t=="string"&&(t.charAt(0)==="/"&&(t.charAt(1)==="/"?t=r.protocol+t:t=r.host+t),/^(https?|wss?):\/\//.test(t)||(typeof r!="undefined"?t=r.protocol+"//"+t:t="https://"+t),n=St(t)),n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443")),n.path=n.path||"/";const o=n.host.indexOf(":")!==-1?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+o+":"+n.port+e,n.href=n.protocol+"://"+o+(r&&r.port===n.port?"":":"+n.port),n}var _t={exports:{}};try{_t.exports=typeof XMLHttpRequest!="undefined"&&"withCredentials"in new XMLHttpRequest}catch{_t.exports=!1}var Ki=_t.exports,K=(()=>typeof self!="undefined"?self:typeof window!="undefined"?window:Function("return this")())();function hr(t){const e=t.xdomain;try{if(typeof XMLHttpRequest!="undefined"&&(!e||Ki))return new XMLHttpRequest}catch{}if(!e)try{return new K[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}function yr(t,...e){return e.reduce((r,n)=>(t.hasOwnProperty(n)&&(r[n]=t[n]),r),{})}const Xi=setTimeout,Qi=clearTimeout;function Fe(t,e){e.useNativeTimers?(t.setTimeoutFn=Xi.bind(K),t.clearTimeoutFn=Qi.bind(K)):(t.setTimeoutFn=setTimeout.bind(K),t.clearTimeoutFn=clearTimeout.bind(K))}var le=B;function B(t){if(t)return Yi(t)}function Yi(t){for(var e in B.prototype)t[e]=B.prototype[e];return t}B.prototype.on=B.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this};B.prototype.once=function(t,e){function r(){this.off(t,r),e.apply(this,arguments)}return r.fn=e,this.on(t,r),this};B.prototype.off=B.prototype.removeListener=B.prototype.removeAllListeners=B.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var r=this._callbacks["$"+t];if(!r)return this;if(arguments.length==1)return delete this._callbacks["$"+t],this;for(var n,i=0;i<r.length;i++)if(n=r[i],n===e||n.fn===e){r.splice(i,1);break}return r.length===0&&delete this._callbacks["$"+t],this};B.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),r=this._callbacks["$"+t],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(r){r=r.slice(0);for(var n=0,i=r.length;n<i;++n)r[n].apply(this,e)}return this};B.prototype.emitReserved=B.prototype.emit;B.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]};B.prototype.hasListeners=function(t){return!!this.listeners(t).length};const U=Object.create(null);U.open="0";U.close="1";U.ping="2";U.pong="3";U.message="4";U.upgrade="5";U.noop="6";const $e=Object.create(null);Object.keys(U).forEach(t=>{$e[U[t]]=t});const Zi={type:"error",data:"parser error"},eo=typeof Blob=="function"||typeof Blob!="undefined"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",to=typeof ArrayBuffer=="function",ro=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t&&t.buffer instanceof ArrayBuffer,dr=({type:t,data:e},r,n)=>eo&&e instanceof Blob?r?n(e):mr(e,n):to&&(e instanceof ArrayBuffer||ro(e))?r?n(e):mr(new Blob([e]),n):n(U[t]+(e||"")),mr=(t,e)=>{const r=new FileReader;return r.onload=function(){const n=r.result.split(",")[1];e("b"+n)},r.readAsDataURL(t)};var gr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Se=typeof Uint8Array=="undefined"?[]:new Uint8Array(256);for(var qe=0;qe<gr.length;qe++)Se[gr.charCodeAt(qe)]=qe;var no=function(t){var e=t.length*.75,r=t.length,n,i=0,o,s,a,u;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);var p=new ArrayBuffer(e),d=new Uint8Array(p);for(n=0;n<r;n+=4)o=Se[t.charCodeAt(n)],s=Se[t.charCodeAt(n+1)],a=Se[t.charCodeAt(n+2)],u=Se[t.charCodeAt(n+3)],d[i++]=o<<2|s>>4,d[i++]=(s&15)<<4|a>>2,d[i++]=(a&3)<<6|u&63;return p};const io=typeof ArrayBuffer=="function",vr=(t,e)=>{if(typeof t!="string")return{type:"message",data:br(t,e)};const r=t.charAt(0);return r==="b"?{type:"message",data:oo(t.substring(1),e)}:$e[r]?t.length>1?{type:$e[r],data:t.substring(1)}:{type:$e[r]}:Zi},oo=(t,e)=>{if(io){const r=no(t);return br(r,e)}else return{base64:!0,data:t}},br=(t,e)=>{switch(e){case"blob":return t instanceof ArrayBuffer?new Blob([t]):t;case"arraybuffer":default:return t}},wr=String.fromCharCode(30),so=(t,e)=>{const r=t.length,n=new Array(r);let i=0;t.forEach((o,s)=>{dr(o,!1,a=>{n[s]=a,++i===r&&e(n.join(wr))})})},ao=(t,e)=>{const r=t.split(wr),n=[];for(let i=0;i<r.length;i++){const o=vr(r[i],e);if(n.push(o),o.type==="error")break}return n},Sr=4;class _r extends le{constructor(e){super();this.writable=!1,Fe(this,e),this.opts=e,this.query=e.query,this.readyState="",this.socket=e.socket}onError(e,r){const n=new Error(e);return n.type="TransportError",n.description=r,super.emit("error",n),this}open(){return(this.readyState==="closed"||this.readyState==="")&&(this.readyState="opening",this.doOpen()),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(e){this.readyState==="open"&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emit("open")}onData(e){const r=vr(e,this.socket.binaryType);this.onPacket(r)}onPacket(e){super.emit("packet",e)}onClose(){this.readyState="closed",super.emit("close")}}var Er="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),Me=64,Ar={},Or=0,X=0,Tr;function Et(t){var e="";do e=Er[t%Me]+e,t=Math.floor(t/Me);while(t>0);return e}function co(t){var e=0;for(X=0;X<t.length;X++)e=e*Me+Ar[t.charAt(X)];return e}function At(){var t=Et(+new Date);return t!==Tr?(Or=0,Tr=t):t+"."+Et(Or++)}for(;X<Me;X++)Ar[Er[X]]=X;At.encode=Et;At.decode=co;var xr=At,_e={};_e.encode=function(t){var e="";for(var r in t)t.hasOwnProperty(r)&&(e.length&&(e+="&"),e+=encodeURIComponent(r)+"="+encodeURIComponent(t[r]));return e};_e.decode=function(t){for(var e={},r=t.split("&"),n=0,i=r.length;n<i;n++){var o=r[n].split("=");e[decodeURIComponent(o[0])]=decodeURIComponent(o[1])}return e};class fo extends _r{constructor(){super(...arguments);this.polling=!1}get name(){return"polling"}doOpen(){this.poll()}pause(e){this.readyState="pausing";const r=()=>{this.readyState="paused",e()};if(this.polling||!this.writable){let n=0;this.polling&&(n++,this.once("pollComplete",function(){--n||r()})),this.writable||(n++,this.once("drain",function(){--n||r()}))}else r()}poll(){this.polling=!0,this.doPoll(),this.emit("poll")}onData(e){const r=n=>{if(this.readyState==="opening"&&n.type==="open"&&this.onOpen(),n.type==="close")return this.onClose(),!1;this.onPacket(n)};ao(e,this.socket.binaryType).forEach(r),this.readyState!=="closed"&&(this.polling=!1,this.emit("pollComplete"),this.readyState==="open"&&this.poll())}doClose(){const e=()=>{this.write([{type:"close"}])};this.readyState==="open"?e():this.once("open",e)}write(e){this.writable=!1,so(e,r=>{this.doWrite(r,()=>{this.writable=!0,this.emit("drain")})})}uri(){let e=this.query||{};const r=this.opts.secure?"https":"http";let n="";this.opts.timestampRequests!==!1&&(e[this.opts.timestampParam]=xr()),!this.supportsBinary&&!e.sid&&(e.b64=1),this.opts.port&&(r==="https"&&Number(this.opts.port)!==443||r==="http"&&Number(this.opts.port)!==80)&&(n=":"+this.opts.port);const i=_e.encode(e),o=this.opts.hostname.indexOf(":")!==-1;return r+"://"+(o?"["+this.opts.hostname+"]":this.opts.hostname)+n+this.opts.path+(i.length?"?"+i:"")}}function uo(){}const lo=function(){return new hr({xdomain:!1}).responseType!=null}();class po extends fo{constructor(e){super(e);if(typeof location!="undefined"){const n=location.protocol==="https:";let i=location.port;i||(i=n?"443":"80"),this.xd=typeof location!="undefined"&&e.hostname!==location.hostname||i!==e.port,this.xs=e.secure!==n}const r=e&&e.forceBase64;this.supportsBinary=lo&&!r}request(e={}){return Object.assign(e,{xd:this.xd,xs:this.xs},this.opts),new H(this.uri(),e)}doWrite(e,r){const n=this.request({method:"POST",data:e});n.on("success",r),n.on("error",i=>{this.onError("xhr post error",i)})}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",r=>{this.onError("xhr poll error",r)}),this.pollXhr=e}}class H extends le{constructor(e,r){super();Fe(this,r),this.opts=r,this.method=r.method||"GET",this.uri=e,this.async=r.async!==!1,this.data=r.data!==void 0?r.data:null,this.create()}create(){const e=yr(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");e.xdomain=!!this.opts.xd,e.xscheme=!!this.opts.xs;const r=this.xhr=new hr(e);try{r.open(this.method,this.uri,this.async);try{if(this.opts.extraHeaders){r.setDisableHeaderCheck&&r.setDisableHeaderCheck(!0);for(let n in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(n)&&r.setRequestHeader(n,this.opts.extraHeaders[n])}}catch{}if(this.method==="POST")try{r.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{r.setRequestHeader("Accept","*/*")}catch{}"withCredentials"in r&&(r.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(r.timeout=this.opts.requestTimeout),r.onreadystatechange=()=>{r.readyState===4&&(r.status===200||r.status===1223?this.onLoad():this.setTimeoutFn(()=>{this.onError(typeof r.status=="number"?r.status:0)},0))},r.send(this.data)}catch(n){this.setTimeoutFn(()=>{this.onError(n)},0);return}typeof document!="undefined"&&(this.index=H.requestsCount++,H.requests[this.index]=this)}onSuccess(){this.emit("success"),this.cleanup()}onData(e){this.emit("data",e),this.onSuccess()}onError(e){this.emit("error",e),this.cleanup(!0)}cleanup(e){if(!(typeof this.xhr=="undefined"||this.xhr===null)){if(this.xhr.onreadystatechange=uo,e)try{this.xhr.abort()}catch{}typeof document!="undefined"&&delete H.requests[this.index],this.xhr=null}}onLoad(){const e=this.xhr.responseText;e!==null&&this.onData(e)}abort(){this.cleanup()}}H.requestsCount=0;H.requests={};if(typeof document!="undefined"){if(typeof attachEvent=="function")attachEvent("onunload",Rr);else if(typeof addEventListener=="function"){const t="onpagehide"in K?"pagehide":"unload";addEventListener(t,Rr,!1)}}function Rr(){for(let t in H.requests)H.requests.hasOwnProperty(t)&&H.requests[t].abort()}const ho=(()=>typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,r)=>r(e,0))(),Ee=K.WebSocket||K.MozWebSocket,Pr=!0,yo="arraybuffer",Cr=typeof navigator!="undefined"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class Ot extends _r{constructor(e){super(e);this.supportsBinary=!e.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const e=this.uri(),r=this.opts.protocols,n=Cr?{}:yr(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=Pr&&!Cr?r?new Ee(e,r):new Ee(e):new Ee(e,r,n)}catch(i){return this.emit("error",i)}this.ws.binaryType=this.socket.binaryType||yo,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=this.onClose.bind(this),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let r=0;r<e.length;r++){const n=e[r],i=r===e.length-1;dr(n,this.supportsBinary,o=>{const s={};try{Pr&&this.ws.send(o)}catch{}i&&ho(()=>{this.writable=!0,this.emit("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws!="undefined"&&(this.ws.close(),this.ws=null)}uri(){let e=this.query||{};const r=this.opts.secure?"wss":"ws";let n="";this.opts.port&&(r==="wss"&&Number(this.opts.port)!==443||r==="ws"&&Number(this.opts.port)!==80)&&(n=":"+this.opts.port),this.opts.timestampRequests&&(e[this.opts.timestampParam]=xr()),this.supportsBinary||(e.b64=1);const i=_e.encode(e),o=this.opts.hostname.indexOf(":")!==-1;return r+"://"+(o?"["+this.opts.hostname+"]":this.opts.hostname)+n+this.opts.path+(i.length?"?"+i:"")}check(){return!!Ee&&!("__initialize"in Ee&&this.name===Ot.prototype.name)}}const mo={websocket:Ot,polling:po};class W extends le{constructor(e,r={}){super();e&&typeof e=="object"&&(r=e,e=null),e?(e=St(e),r.hostname=e.host,r.secure=e.protocol==="https"||e.protocol==="wss",r.port=e.port,e.query&&(r.query=e.query)):r.host&&(r.hostname=St(r.host).host),Fe(this,r),this.secure=r.secure!=null?r.secure:typeof location!="undefined"&&location.protocol==="https:",r.hostname&&!r.port&&(r.port=this.secure?"443":"80"),this.hostname=r.hostname||(typeof location!="undefined"?location.hostname:"localhost"),this.port=r.port||(typeof location!="undefined"&&location.port?location.port:this.secure?"443":"80"),this.transports=r.transports||["polling","websocket"],this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!0},r),this.opts.path=this.opts.path.replace(/\/$/,"")+"/",typeof this.opts.query=="string"&&(this.opts.query=_e.decode(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,typeof addEventListener=="function"&&(this.opts.closeOnBeforeunload&&addEventListener("beforeunload",()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},!1),this.hostname!=="localhost"&&(this.offlineEventListener=()=>{this.onClose("transport close")},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(e){const r=go(this.opts.query);r.EIO=Sr,r.transport=e,this.id&&(r.sid=this.id);const n=Object.assign({},this.opts.transportOptions[e],this.opts,{query:r,socket:this,hostname:this.hostname,secure:this.secure,port:this.port});return new mo[e](n)}open(){let e;if(this.opts.rememberUpgrade&&W.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)e="websocket";else if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}else e=this.transports[0];this.readyState="opening";try{e=this.createTransport(e)}catch{this.transports.shift(),this.open();return}e.open(),this.setTransport(e)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",()=>{this.onClose("transport close")})}probe(e){let r=this.createTransport(e),n=!1;W.priorWebsocketSuccess=!1;const i=()=>{n||(r.send([{type:"ping",data:"probe"}]),r.once("packet",m=>{if(!n)if(m.type==="pong"&&m.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",r),!r)return;W.priorWebsocketSuccess=r.name==="websocket",this.transport.pause(()=>{n||this.readyState!=="closed"&&(d(),this.setTransport(r),r.send([{type:"upgrade"}]),this.emitReserved("upgrade",r),r=null,this.upgrading=!1,this.flush())})}else{const h=new Error("probe error");h.transport=r.name,this.emitReserved("upgradeError",h)}}))};function o(){n||(n=!0,d(),r.close(),r=null)}const s=m=>{const h=new Error("probe error: "+m);h.transport=r.name,o(),this.emitReserved("upgradeError",h)};function a(){s("transport closed")}function u(){s("socket closed")}function p(m){r&&m.name!==r.name&&o()}const d=()=>{r.removeListener("open",i),r.removeListener("error",s),r.removeListener("close",a),this.off("close",u),this.off("upgrading",p)};r.once("open",i),r.once("error",s),r.once("close",a),this.once("close",u),this.once("upgrading",p),r.open()}onOpen(){if(this.readyState="open",W.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush(),this.readyState==="open"&&this.opts.upgrade&&this.transport.pause){let e=0;const r=this.upgrades.length;for(;e<r;e++)this.probe(this.upgrades[e])}}onPacket(e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this.resetPingTimeout(),this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":const r=new Error("server error");r.code=e.data,this.onError(r);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data);break}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.onOpen(),this.readyState!=="closed"&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn(()=>{this.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emitReserved("flush"))}write(e,r,n){return this.sendPacket("message",e,r,n),this}send(e,r,n){return this.sendPacket("message",e,r,n),this}sendPacket(e,r,n,i){if(typeof r=="function"&&(i=r,r=void 0),typeof n=="function"&&(i=n,n=null),this.readyState==="closing"||this.readyState==="closed")return;n=n||{},n.compress=n.compress!==!1;const o={type:e,data:r,options:n};this.emitReserved("packetCreate",o),this.writeBuffer.push(o),i&&this.once("flush",i),this.flush()}close(){const e=()=>{this.onClose("forced close"),this.transport.close()},r=()=>{this.off("upgrade",r),this.off("upgradeError",r),e()},n=()=>{this.once("upgrade",r),this.once("upgradeError",r)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?n():e()}):this.upgrading?n():e()),this}onError(e){W.priorWebsocketSuccess=!1,this.emitReserved("error",e),this.onClose("transport error",e)}onClose(e,r){(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")&&(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),typeof removeEventListener=="function"&&removeEventListener("offline",this.offlineEventListener,!1),this.readyState="closed",this.id=null,this.emitReserved("close",e,r),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(e){const r=[];let n=0;const i=e.length;for(;n<i;n++)~this.transports.indexOf(e[n])&&r.push(e[n]);return r}}W.protocol=Sr;function go(t){const e={};for(let r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);return e}W.protocol;const vo=typeof ArrayBuffer=="function",bo=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer,Nr=Object.prototype.toString,wo=typeof Blob=="function"||typeof Blob!="undefined"&&Nr.call(Blob)==="[object BlobConstructor]",So=typeof File=="function"||typeof File!="undefined"&&Nr.call(File)==="[object FileConstructor]";function Tt(t){return vo&&(t instanceof ArrayBuffer||bo(t))||wo&&t instanceof Blob||So&&t instanceof File}function Ue(t,e){if(!t||typeof t!="object")return!1;if(Array.isArray(t)){for(let r=0,n=t.length;r<n;r++)if(Ue(t[r]))return!0;return!1}if(Tt(t))return!0;if(t.toJSON&&typeof t.toJSON=="function"&&arguments.length===1)return Ue(t.toJSON(),!0);for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&Ue(t[r]))return!0;return!1}function _o(t){const e=[],r=t.data,n=t;return n.data=xt(r,e),n.attachments=e.length,{packet:n,buffers:e}}function xt(t,e){if(!t)return t;if(Tt(t)){const r={_placeholder:!0,num:e.length};return e.push(t),r}else if(Array.isArray(t)){const r=new Array(t.length);for(let n=0;n<t.length;n++)r[n]=xt(t[n],e);return r}else if(typeof t=="object"&&!(t instanceof Date)){const r={};for(const n in t)t.hasOwnProperty(n)&&(r[n]=xt(t[n],e));return r}return t}function Eo(t,e){return t.data=Rt(t.data,e),t.attachments=void 0,t}function Rt(t,e){if(!t)return t;if(t&&t._placeholder)return e[t.num];if(Array.isArray(t))for(let r=0;r<t.length;r++)t[r]=Rt(t[r],e);else if(typeof t=="object")for(const r in t)t.hasOwnProperty(r)&&(t[r]=Rt(t[r],e));return t}const Ao=5;var w;(function(t){t[t.CONNECT=0]="CONNECT",t[t.DISCONNECT=1]="DISCONNECT",t[t.EVENT=2]="EVENT",t[t.ACK=3]="ACK",t[t.CONNECT_ERROR=4]="CONNECT_ERROR",t[t.BINARY_EVENT=5]="BINARY_EVENT",t[t.BINARY_ACK=6]="BINARY_ACK"})(w||(w={}));class Oo{encode(e){return(e.type===w.EVENT||e.type===w.ACK)&&Ue(e)?(e.type=e.type===w.EVENT?w.BINARY_EVENT:w.BINARY_ACK,this.encodeAsBinary(e)):[this.encodeAsString(e)]}encodeAsString(e){let r=""+e.type;return(e.type===w.BINARY_EVENT||e.type===w.BINARY_ACK)&&(r+=e.attachments+"-"),e.nsp&&e.nsp!=="/"&&(r+=e.nsp+","),e.id!=null&&(r+=e.id),e.data!=null&&(r+=JSON.stringify(e.data)),r}encodeAsBinary(e){const r=_o(e),n=this.encodeAsString(r.packet),i=r.buffers;return i.unshift(n),i}}class Pt extends le{constructor(){super()}add(e){let r;if(typeof e=="string")r=this.decodeString(e),r.type===w.BINARY_EVENT||r.type===w.BINARY_ACK?(this.reconstructor=new xo(r),r.attachments===0&&super.emitReserved("decoded",r)):super.emitReserved("decoded",r);else if(Tt(e)||e.base64)if(this.reconstructor)r=this.reconstructor.takeBinaryData(e),r&&(this.reconstructor=null,super.emitReserved("decoded",r));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+e)}decodeString(e){let r=0;const n={type:Number(e.charAt(0))};if(w[n.type]===void 0)throw new Error("unknown packet type "+n.type);if(n.type===w.BINARY_EVENT||n.type===w.BINARY_ACK){const o=r+1;for(;e.charAt(++r)!=="-"&&r!=e.length;);const s=e.substring(o,r);if(s!=Number(s)||e.charAt(r)!=="-")throw new Error("Illegal attachments");n.attachments=Number(s)}if(e.charAt(r+1)==="/"){const o=r+1;for(;++r&&!(e.charAt(r)===","||r===e.length););n.nsp=e.substring(o,r)}else n.nsp="/";const i=e.charAt(r+1);if(i!==""&&Number(i)==i){const o=r+1;for(;++r;){const s=e.charAt(r);if(s==null||Number(s)!=s){--r;break}if(r===e.length)break}n.id=Number(e.substring(o,r+1))}if(e.charAt(++r)){const o=To(e.substr(r));if(Pt.isPayloadValid(n.type,o))n.data=o;else throw new Error("invalid payload")}return n}static isPayloadValid(e,r){switch(e){case w.CONNECT:return typeof r=="object";case w.DISCONNECT:return r===void 0;case w.CONNECT_ERROR:return typeof r=="string"||typeof r=="object";case w.EVENT:case w.BINARY_EVENT:return Array.isArray(r)&&r.length>0;case w.ACK:case w.BINARY_ACK:return Array.isArray(r)}}destroy(){this.reconstructor&&this.reconstructor.finishedReconstruction()}}function To(t){try{return JSON.parse(t)}catch{return!1}}class xo{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const r=Eo(this.reconPack,this.buffers);return this.finishedReconstruction(),r}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}var Ro=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",protocol:Ao,get PacketType(){return w},Encoder:Oo,Decoder:Pt});function F(t,e,r){return t.on(e,r),function(){t.off(e,r)}}const Po=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class kr extends le{constructor(e,r,n){super();this.connected=!1,this.disconnected=!0,this.receiveBuffer=[],this.sendBuffer=[],this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=r,n&&n.auth&&(this.auth=n.auth),this.io._autoConnect&&this.open()}subEvents(){if(this.subs)return;const e=this.io;this.subs=[F(e,"open",this.onopen.bind(this)),F(e,"packet",this.onpacket.bind(this)),F(e,"error",this.onerror.bind(this)),F(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...r){if(Po.hasOwnProperty(e))throw new Error('"'+e+'" is a reserved event name');r.unshift(e);const n={type:w.EVENT,data:r};if(n.options={},n.options.compress=this.flags.compress!==!1,typeof r[r.length-1]=="function"){const s=this.ids++,a=r.pop();this._registerAckCallback(s,a),n.id=s}const i=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!i||!this.connected)||(this.connected?this.packet(n):this.sendBuffer.push(n)),this.flags={},this}_registerAckCallback(e,r){const n=this.flags.timeout;if(n===void 0){this.acks[e]=r;return}const i=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let o=0;o<this.sendBuffer.length;o++)this.sendBuffer[o].id===e&&this.sendBuffer.splice(o,1);r.call(this,new Error("operation has timed out"))},n);this.acks[e]=(...o)=>{this.io.clearTimeoutFn(i),r.apply(this,[null,...o])}}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){typeof this.auth=="function"?this.auth(e=>{this.packet({type:w.CONNECT,data:e})}):this.packet({type:w.CONNECT,data:this.auth})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e){this.connected=!1,this.disconnected=!0,delete this.id,this.emitReserved("disconnect",e)}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case w.CONNECT:if(e.data&&e.data.sid){const i=e.data.sid;this.onconnect(i)}else this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case w.EVENT:this.onevent(e);break;case w.BINARY_EVENT:this.onevent(e);break;case w.ACK:this.onack(e);break;case w.BINARY_ACK:this.onack(e);break;case w.DISCONNECT:this.ondisconnect();break;case w.CONNECT_ERROR:this.destroy();const n=new Error(e.data.message);n.data=e.data.data,this.emitReserved("connect_error",n);break}}onevent(e){const r=e.data||[];e.id!=null&&r.push(this.ack(e.id)),this.connected?this.emitEvent(r):this.receiveBuffer.push(Object.freeze(r))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const r=this._anyListeners.slice();for(const n of r)n.apply(this,e)}super.emit.apply(this,e)}ack(e){const r=this;let n=!1;return function(...i){n||(n=!0,r.packet({type:w.ACK,id:e,data:i}))}}onack(e){const r=this.acks[e.id];typeof r=="function"&&(r.apply(this,e.data),delete this.acks[e.id])}onconnect(e){this.id=e,this.connected=!0,this.disconnected=!1,this.emitBuffered(),this.emitReserved("connect")}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>this.packet(e)),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:w.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const r=this._anyListeners;for(let n=0;n<r.length;n++)if(e===r[n])return r.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}}var Co=pe;function pe(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}pe.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),r=Math.floor(e*this.jitter*t);t=(Math.floor(e*10)&1)==0?t-r:t+r}return Math.min(t,this.max)|0};pe.prototype.reset=function(){this.attempts=0};pe.prototype.setMin=function(t){this.ms=t};pe.prototype.setMax=function(t){this.max=t};pe.prototype.setJitter=function(t){this.jitter=t};class Ct extends le{constructor(e,r){var n;super();this.nsps={},this.subs=[],e&&typeof e=="object"&&(r=e,e=void 0),r=r||{},r.path=r.path||"/socket.io",this.opts=r,Fe(this,r),this.reconnection(r.reconnection!==!1),this.reconnectionAttempts(r.reconnectionAttempts||1/0),this.reconnectionDelay(r.reconnectionDelay||1e3),this.reconnectionDelayMax(r.reconnectionDelayMax||5e3),this.randomizationFactor((n=r.randomizationFactor)!==null&&n!==void 0?n:.5),this.backoff=new Co({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(r.timeout==null?2e4:r.timeout),this._readyState="closed",this.uri=e;const i=r.parser||Ro;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this._autoConnect=r.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection}reconnectionAttempts(e){return e===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var r;return e===void 0?this._reconnectionDelay:(this._reconnectionDelay=e,(r=this.backoff)===null||r===void 0||r.setMin(e),this)}randomizationFactor(e){var r;return e===void 0?this._randomizationFactor:(this._randomizationFactor=e,(r=this.backoff)===null||r===void 0||r.setJitter(e),this)}reconnectionDelayMax(e){var r;return e===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,(r=this.backoff)===null||r===void 0||r.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new W(this.uri,this.opts);const r=this.engine,n=this;this._readyState="opening",this.skipReconnect=!1;const i=F(r,"open",function(){n.onopen(),e&&e()}),o=F(r,"error",s=>{n.cleanup(),n._readyState="closed",this.emitReserved("error",s),e?e(s):n.maybeReconnectOnOpen()});if(this._timeout!==!1){const s=this._timeout;s===0&&i();const a=this.setTimeoutFn(()=>{i(),r.close(),r.emit("error",new Error("timeout"))},s);this.opts.autoUnref&&a.unref(),this.subs.push(function(){clearTimeout(a)})}return this.subs.push(i),this.subs.push(o),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(F(e,"ping",this.onping.bind(this)),F(e,"data",this.ondata.bind(this)),F(e,"error",this.onerror.bind(this)),F(e,"close",this.onclose.bind(this)),F(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){this.decoder.add(e)}ondecoded(e){this.emitReserved("packet",e)}onerror(e){this.emitReserved("error",e)}socket(e,r){let n=this.nsps[e];return n||(n=new kr(this,e,r),this.nsps[e]=n),n}_destroy(e){const r=Object.keys(this.nsps);for(const n of r)if(this.nsps[n].active)return;this._close()}_packet(e){const r=this.encoder.encode(e);for(let n=0;n<r.length;n++)this.engine.write(r[n],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(e){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const r=this.backoff.duration();this._reconnecting=!0;const n=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(i=>{i?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",i)):e.onreconnect()}))},r);this.opts.autoUnref&&n.unref(),this.subs.push(function(){clearTimeout(n)})}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const Ae={};function Nt(t,e){typeof t=="object"&&(e=t,t=void 0),e=e||{};const r=Ji(t,e.path||"/socket.io"),n=r.source,i=r.id,o=r.path,s=Ae[i]&&o in Ae[i].nsps,a=e.forceNew||e["force new connection"]||e.multiplex===!1||s;let u;return a?u=new Ct(n,e):(Ae[i]||(Ae[i]=new Ct(n,e)),u=Ae[i]),r.query&&!e.query&&(e.query=r.queryKey),u.socket(r.path,e)}Object.assign(Nt,{Manager:Ct,Socket:kr,io:Nt,connect:Nt});export{Nt as l,No as r};
